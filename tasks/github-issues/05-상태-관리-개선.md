# [Task] 상태 관리 개선

**라벨**: `task`, `medium-priority`, `state-management`  
**예상 시간**: 1주

---

## 📋 작업 개요

전역 상태 관리 라이브러리를 도입하여 사이드바 상태, 사용자 정보 등을 효율적으로 관리합니다.

## 🎯 목표

- Zustand 또는 Jotai를 통한 전역 상태 관리
- 사이드바 상태 전역화
- 사용자 정보 전역 관리

## 📝 작업 내용

### 1. 전역 상태 관리 라이브러리 도입
- [ ] Zustand 또는 Jotai 선택 및 설치
  - [ ] 권장: Zustand (가벼움, 간단함)
- [ ] 전역 상태 스토어 구조 설계
  - [ ] 스토어 파일 위치: `src/lib/stores/`

### 2. 전역 상태로 관리할 상태 식별
- [ ] 사이드바 상태 (열림/닫힘)
  - [ ] 현재: 로컬 상태
  - [ ] 변경: 전역 상태로 이동
- [ ] 사용자 정보
  - [ ] 현재: Firebase Auth에서 직접 가져옴
  - [ ] 변경: 전역 상태에 저장
- [ ] 테마 설정 (향후 다크모드 지원 시)
  - [ ] 테마 상태 전역 관리

### 3. 스토어 구현
- [ ] `useSidebarStore` 생성
  - [ ] 사이드바 열림/닫힘 상태
  - [ ] 토글 함수
  - [ ] 위치: `src/lib/stores/sidebar-store.ts`
- [ ] `useAuthStore` 생성
  - [ ] 사용자 정보
  - [ ] 로그인/로그아웃 함수
  - [ ] 위치: `src/lib/stores/auth-store.ts`
- [ ] `useThemeStore` 생성 (선택사항)
  - [ ] 테마 상태
  - [ ] 테마 변경 함수
  - [ ] 위치: `src/lib/stores/theme-store.ts`

### 4. 기존 컴포넌트 마이그레이션
- [ ] `AppSidebar` 컴포넌트 수정
  - [ ] 로컬 상태 → 전역 상태 사용
- [ ] 사용자 정보가 필요한 컴포넌트 수정
  - [ ] 전역 상태에서 사용자 정보 가져오기
- [ ] 테스트 및 검증
  - [ ] 상태 변경이 모든 컴포넌트에 반영되는지 확인

## 📌 참고 사항

- Zustand 권장: https://github.com/pmndrs/zustand
- Jotai 대안: https://jotai.org/
- 기존 로컬 상태는 점진적으로 마이그레이션
- 전역 상태는 정말 필요한 경우에만 사용

---

**원본 문서**: `tasks/medium-priority/05-상태-관리-개선.md`

